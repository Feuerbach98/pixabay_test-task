(this["webpackJsonppixabay_test-task"]=this["webpackJsonppixabay_test-task"]||[]).push([[0],{29:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(0),c=n.n(a),s=n(9),o=n.n(s),u=(n(29),n(30),n(31),n(6)),i=n.n(u),l=n(10),j=(n(33),"19234341-bbc7811a42f823cfa8eb8945b"),b="https://pixabay.com/api/",p=function(e,t){var n=e.replace(/\s+/g,"+").trim();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fetch("".concat(b,"?key=").concat(j).concat(e)).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))}("&q=".concat(n,"&per_page=").concat(t))},h=n(5),f=n(12),O=n(8),d=n(11),m={change:function(e,t){return{type:"ON_CHANGE",name:e,value:t}},search:function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n,r);case 2:return e.t0=e.sent,e.abrupt("return",{type:"ON_SEARCH",response:e.t0});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},g=Object(d.b)((function(e,t){switch(t.type){case"ON_CHANGE":return Object(O.a)(Object(O.a)({},e),{},Object(f.a)({},t.name,t.value));case"ON_SEARCH":return Object(O.a)(Object(O.a)({},e),{},{response:t.response});default:return e}}),{response:{},query:"",perPage:10}),x=n(21),y=n.n(x),v=n(22),C=n(23),N=n(3),k=n.n(N),w=(n(39),function(e){var t=e.hit,n=Object(a.useState)(!1),c=Object(C.a)(n,2),s=c[0],o=c[1];return Object(r.jsx)("img",{id:t.id,className:k()("image",{"preload-image":!s}),alt:t.tags,src:t.webformatURL,height:"auto",onLoad:function(){return o(!0)}})}),P=n(43),_=function(e){var t=e.query,n=e.perPage,a=Object(h.b)(),c=function(e){a(m.change(e.target.name,e.target.value))};return Object(r.jsxs)(P.a,{className:"d-flex d-flex justify-content-between",children:[Object(r.jsx)(P.a.Group,{children:Object(r.jsx)(P.a.Control,{name:"query",type:"search",value:t,onChange:c,onKeyPress:function(e){13===e.charCode&&e.preventDefault()},placeholder:"Search"})}),Object(r.jsxs)(P.a.Group,{className:"d-flex align-items-center",children:[Object(r.jsx)(P.a.Label,{className:"my-0 mx-2",children:"Count:"}),Object(r.jsxs)(P.a.Control,{className:"count",as:"select",value:n,onChange:c,name:"perPage",children:[Object(r.jsx)("option",{value:10,children:"10"}),Object(r.jsx)("option",{value:20,children:"20"}),Object(r.jsx)("option",{value:50,children:"50"}),Object(r.jsx)("option",{value:100,children:"100"})]})]})]})},q={default:4,1100:3,700:2,500:1},E=function(){var e=Object(h.c)((function(e){return e})),t=Object(h.b)();Object(a.useEffect)((function(){c(e.query,e.perPage)}),[e.query,e.perPage]);var n=function(){var e=Object(l.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,m.search(p,n,r);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=Object(a.useCallback)(Object(v.debounce)(n,1e3),[]),s=e.response.hits&&e.response.hits.map((function(e){return Object(r.jsx)("a",{href:e.largeImageURL,target:"_blank",rel:"noreferrer",children:Object(r.jsx)(w,{hit:e})},e.id)}));return Object(r.jsxs)("div",{className:"search",children:[Object(r.jsx)(_,{query:e.query,perPage:e.perPage}),0===e.response.total?"There are no images that suits your criteria":Object(r.jsx)(y.a,{breakpointCols:q,className:"my-masonry-grid",columnClassName:"my-masonry-grid__column",children:s})]})},L=function(){return Object(r.jsx)("div",{className:"p-4",children:Object(r.jsx)(E,{})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(h.a,{store:g,children:Object(r.jsx)(L,{})})}),document.getElementById("root")),S()}},[[41,1,2]]]);
//# sourceMappingURL=main.1e5d53a7.chunk.js.map
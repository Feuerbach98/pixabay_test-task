(this["webpackJsonppixabay_test-task"]=this["webpackJsonppixabay_test-task"]||[]).push([[0],{26:function(e,t,n){},28:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(0),r=n.n(c),o=n(8),s=n.n(o),l=(n(26),n(27),n(28),n(14)),i=n.n(l),u=n(18),j=n(39),b=n(6),p="19234341-bbc7811a42f823cfa8eb8945b",d="https://pixabay.com/api/",m=function(e,t){var n=e.replace(/\s+/g,"+").trim();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fetch("".concat(d,"?key=").concat(p).concat(e)).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))}("&q=".concat(n,"&per_page=").concat(t))},h=n(20),f=n.n(h),g=(n(35),{default:4,1100:3,700:2,500:1}),O=function(){var e=Object(b.c)((function(e){return e})),t=Object(b.b)(),n=Object(c.useCallback)(Object(u.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("searching"),n.t0=t,n.next=4,m(e.query,e.perPage);case 4:n.t1=n.sent,n.t2={type:"ON_SEARCH",response:n.t1},(0,n.t0)(n.t2);case 7:case"end":return n.stop()}}),n)}))),[t,e.perPage,e.query]),r=Object(c.useCallback)(function(e,t){var n;return console.log("init",n),function(){clearTimeout(n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];n=setTimeout.apply(void 0,[e,t].concat(c))}}(n,1e3),[]);Object(c.useEffect)((function(){r()}),[]);var o=function(e){console.log("hello"),t({type:"ON_CHANGE",name:e.target.name,value:e.target.value}),r()},s=e.response.hits?e.response.hits.map((function(e){return Object(a.jsx)("a",{href:e.largeImageURL,target:"_blank",rel:"noreferrer",children:Object(a.jsx)("img",{id:e.id,className:"image",alt:e.tags,src:e.webformatURL,onLoad:function(){return t=e.id,void(document.getElementById(t).style.background="none");var t}})},e.id)})):null;return Object(a.jsxs)("div",{className:"search",children:[Object(a.jsxs)(j.a,{className:"d-flex d-flex justify-content-between",children:[Object(a.jsx)(j.a.Group,{controlId:"exampleForm.ControlInput1",children:Object(a.jsx)(j.a.Control,{name:"query",type:"text",value:e.query,onChange:o,placeholder:"Search"})}),Object(a.jsxs)(j.a.Group,{className:"d-flex align-items-center",controlId:"exampleForm.ControlSelect1",children:[Object(a.jsx)(j.a.Label,{className:"my-0 mx-2",children:"Count:"}),Object(a.jsxs)(j.a.Control,{className:"count",as:"select",value:e.perPage,onChange:o,name:"perPage",children:[Object(a.jsx)("option",{value:10,children:"10"}),Object(a.jsx)("option",{value:20,children:"20"}),Object(a.jsx)("option",{value:50,children:"50"}),Object(a.jsx)("option",{value:100,children:"100"})]})]})]}),0===e.response.total?"There are no images that suits your criteria":Object(a.jsx)(f.a,{breakpointCols:g,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:s})]})},x=function(){return Object(a.jsx)("div",{className:"p-4",children:Object(a.jsx)(O,{})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},v=n(10),C=n(7),N=n(9),k=Object(N.b)((function(e,t){switch(t.type){case"ON_CHANGE":return Object(C.a)(Object(C.a)({},e),{},Object(v.a)({},t.name,t.value));case"ON_SEARCH":return Object(C.a)(Object(C.a)({},e),{},{response:t.response});default:return e}}),{response:{},query:"",perPage:10});s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(b.a,{store:k,children:Object(a.jsx)(x,{})})}),document.getElementById("root")),y()}},[[37,1,2]]]);
//# sourceMappingURL=main.de4b8593.chunk.js.map